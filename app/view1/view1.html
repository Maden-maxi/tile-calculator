<div ng-controller="View1Ctrl" layout="column" layout-padding ng-cloak>
    <!--<code>{{seriesData | json}}</code>-->
    <md-toolbar class="round-top" md-scroll-shrink>
        <div class="md-toolbar-tools">
            <h3>
                <span>Назначение и размеры</span>
            </h3>
        </div>
    </md-toolbar>

    <form name="stats" id="stats" novalidate>
        <!--
        <ul>
            <li><code ng-show="stats.$pristine">Невзаимодейстоввал с формой</code></li>
            <li><code ng-show="stats.$dirty">Взаимодейстовал</code></li>
            <li><code ng-show="stats.$valid">Форма валидная</code></li>
            <li><code ng-show="stats.$invalid">Форма инвалидная</code></li>
        </ul>
        <pre>
        <code ng-show="stats.$error">ошибки: {{stats.$error | json}}</code>
        </pre> -->


        <md-content layout="row" layout-padding>

            <md-input-container flex="33">
                <label>Серия</label>
                <md-select ng-model="id_series" aria-label="Серия" required>
                    <md-option ng-repeat="val in ['Украина', 'Италия', 'Германия']" ng-value="$index">{{val}}</md-option>
                </md-select>
                {{ id_series }}

            </md-input-container>

        </md-content>

        <div ng-show="id_series !== undefined">
            <md-content layout="row" layout-padding>

            <div flex="33">
                <fieldset class="standard">
                    <legend>Назначение</legend> {{ tilesUse }}
                    <div layout-wrap layout-gt-sm="row">
                        <!--id_series == 'fw' || id_series == 'w'-->
                        <div ng-show="id_series == 1 || id_series == 0" flex-gt-sm="50">
                            <md-checkbox ng-model="tilesUse.walls" ng-disabled="!tilesUse.flor">
                                {{tilesUse.walls}} Стена
                            </md-checkbox>
                        </div>

                        <div ng-show="id_series == 2 || id_series == 0" flex-gt-sm="50">
                            <md-checkbox ng-model="tilesUse.flor" ng-disabled="!tilesUse.walls">
                                {{tilesUse.flor}} Пол
                            </md-checkbox>
                        </div>

                    </div>
                </fieldset>
            </div><!--Назначение-->

            <div flex="33">
                <label>Ширина шва между плитками</label>
                <md-select aria-label="Ширина шва между плитками"  ng-model="gutter" required>
                    <md-option ng-repeat="size in [ 1, 1.5, 2, 2.5, 3, 3.5, 4]" ng-value="size">{{size}}мм</md-option>
                </md-select>
            </div><!--Ширина между плитками-->

        </md-content>
            <div>
                Варианты розкладки
            </div>
            <md-content layout="row" layout-padding>

                <div flex="50" ng-show="tilesUse.walls">
                    <fieldset class="standard">
                        <legend>Стена</legend>
                        <md-radio-group layout-wrap layout-gt-sm="row" ng-model="layout.walls">

                            <md-radio-button flex-gt-sm="50" value="rectangular" class="md-primary">
                                <i class="material-icons">grid_on</i> Прямоугольная
                            </md-radio-button>
                            <md-radio-button flex-gt-sm="50" value="diagonal" class="md-primary">
                                <i class="material-icons">grid_off</i> Диагональная
                            </md-radio-button>
                        </md-radio-group>
                        {{layout.walls}}
                    </fieldset>
                </div><!--стена-->

                <div flex="50" ng-show="tilesUse.flor">
                    <fieldset class="standard">
                        <legend>Пол</legend>
                        <md-radio-group layout-wrap layout-gt-sm="row" ng-model="layout.flor">
                            <md-radio-button flex-gt-sm="50" value="rectangular" class="md-primary">
                                <i class="material-icons">grid_on</i> Прямоугольная
                            </md-radio-button>
                            <md-radio-button flex-gt-sm="50" value="diagonal" class="md-primary">
                                <i class="material-icons">grid_off</i> Диагональная
                            </md-radio-button>
                        </md-radio-group>
                        {{layout.flor}}
                    </fieldset>
                </div><!--пол-->

            </md-content>
            <div>Задайте розмеры</div>
            <md-content layout="column" layout-padding>
                <input type="hidden" name="intMask" ng-model="maskIntNum">
                <!--поля для размеров стены-->
                <div ng-show="tilesUse.walls">
                    <div layout="row" layout-wrap layout-padding>
                       <div flex="50">
                           <md-input-container>
                               <label for="heightWall">Высота стен</label>
                               <input id="heightWall" name="heightWall"  ng-pattern="regex" ng-model="tiles.walls.height" ng-required="tilesUse.walls">
                               <validate-number val="stats.heightWall"></validate-number>
                           </md-input-container>
                       </div>
                    </div>
                    <div layout="row" layout-wrap layout-padding flex="50">
                        <div flex="50" ng-repeat="wall in tiles.walls.fields">
                            <md-input-container>
                                <label for="widthWall{{$index+1}}">Ширина стены #{{$index + 1}}</label>
                                <input id="widthWall{{$index+1}}" name="widthWall"  type="number" ng-model="wall.width" ng-bind="wall.id=$index;wall.height=tiles.walls.height;" ng-required="tilesUse.walls">

                            </md-input-container>
                        </div>

                    </div>

                    <div layout="row" flex="50" layout-align="center center" layout-wrap>
                        <md-button class="md-fab md-mini" aria-label="удалить стену" ng-disabled="tiles.walls.fields.length == 1" ng-click="popWall()"><i class="material-icons">remove_circle_outline</i></md-button>
                        <md-button class="md-fab md-mini md-primary" aria-label="добавить стену" ng-disabled="tiles.walls.fields.length == 4" ng-click="pushWall()"><i class="material-icons">add_circle_outline</i></md-button>
                        <pre>{{ tiles.walls.fields | json }}</pre>
                    </div>

                </div>

                <!--поля для размеров стены-->

                <!--поля для разморов пола-->
                <div ng-show="tilesUse.flor">
                    <div layout="column" layout-wrap layout-padding flex="50">
                        <div>
                            <md-input-container>
                                <label for="lengthFlor">Длинна пола</label>
                                <input id="lengthFlor" name="lengthFlor" ng-pattern="regex" ng-model="tiles.flor.height" ng-required="tilesUse.flor">

                            </md-input-container>
                        </div>
                        <div>
                            <md-input-container>
                                <label for="widthFlor">Ширина пола</label>
                                <input id="widthFlor" name="widthFlor" ng-pattern="regex" ng-model="tiles.flor.width" ng-required="tilesUse.flor">

                            </md-input-container>
                        </div>
                    </div>
                    {{ tiles.flor | json }}
                </div>
                <!--поля для разморов пола-->

                <div layout="row" flex="50" layout-align="start center" layout-wrap>
                    <md-button ng-click="twoStep($event)" ng-disabled="!stats.$valid" class="md-fab md-primary"><a ng-readonly="!stats.$valid" id="nextStep" href="#!/view2"><i class="material-icons">forward</i></a></md-button>
                    <md-button ng-click="clearForm()" class="md-fab"><i class="material-icons">replay</i></md-button>
                </div>

        </md-content>



        </div>

    </form><!--#stats-->

</div>